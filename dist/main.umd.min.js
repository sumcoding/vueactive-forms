(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["main"]=t(require("vue")):e["main"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var u=t[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var u in e)n.d(r,u,function(t){return e[t]}.bind(null,u));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fae3")}({8875:function(e,t,n){var r,u,c;(function(n,o){u=[],r=o,c="function"===typeof r?r.apply(t,u):r,void 0===c||(e.exports=c)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(p){var n,r,u,c=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,o=/@([^@]*):(\d+):(\d+)\s*$/gi,a=c.exec(p.stack)||o.exec(p.stack),i=a&&a[1]||!1,l=a&&a[2]||!1,f=document.location.href.replace(document.location.hash,""),s=document.getElementsByTagName("script");i===f&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(l-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),u=n.replace(r,"$1").trim());for(var d=0;d<s.length;d++){if("interactive"===s[d].readyState)return s[d];if(s[d].src===i)return s[d];if(i===f&&s[d].innerHTML&&s[d].innerHTML.trim()===u)return s[d]}return null}}return e}))},"8bbf":function(t,n){t.exports=e},fae3:function(e,t,n){"use strict";if(n.r(t),n.d(t,"FormKey",(function(){return o})),n.d(t,"formGroup",(function(){return D})),n.d(t,"formInput",(function(){return b})),"undefined"!==typeof window){var r=window.document.currentScript,u=n("8875");r=u(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:u});var c=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);c&&(n.p=c[1])}const o=Object.freeze({INVALID:"$invalid",DIRTY:"$dirty",ORIGINAL:"$originalValue",ERROR:"$error",CLEAN:"$clean",RESET:"$reset",TOUCH:"$touch"});var a=n("8bbf");const i=(e,t)=>"object"===typeof e?Object.values(e).map(e=>Object.keys(t).includes(e)).includes(!0):Object.keys(t).includes(e),l=(e,t)=>{const n=[];function r(e,t){e&&Object.entries(e).forEach(([e,u])=>{"object"===typeof u?r(u,t):e===t&&n.push(u)})}return r(e,t),n},f=e=>({[o.ORIGINAL]:e,value:e,[o.DIRTY]:null}),s=e=>({[o.INVALID]:null,[o.ERROR]:null,...f(e)}),d=(e,t)=>{e[o.INVALID].value=Object.entries(t).map(([e,t])=>"object"===typeof t&&i(o.ERROR,t)?t[o.ERROR]:t).includes(!0),Object.entries(t).map(([t,n])=>"object"===typeof n&&i(o.ERROR,n)?e[t].value[o.ERROR]=n[o.ERROR]:e[t].value=n),e[o.DIRTY].value||(e[o.DIRTY].value=e.value.value!==e[o.ORIGINAL].value),e[o.ERROR].value=e[o.INVALID].value&&e[o.DIRTY].value},p=async(e,t)=>{let n={};const r=Object.keys(e(t))[0];return e(t)[r].then?n[r]=await e(t)[r]:n=e(t),n},R=e=>{const t=Object(a["reactive"])(f(e)),n=Object(a["toRefs"])(t);return Object(a["watchEffect"])(()=>{n[o.DIRTY].value||(n[o.DIRTY].value=n.value.value!==n[o.ORIGINAL].value)}),t},v=(e,t)=>{const n=Object(a["reactive"])({...s(e),...t(e)}),r=Object(a["toRefs"])(n);return Object(a["watchEffect"])(async e=>{e(()=>{});const n=await p(t,r.value.value);d(r,n)}),n},O=(e,t)=>{let n;t.forEach(t=>n={...n,...t(e)});const r=Object(a["reactive"])({...s(e),...n}),u=Object(a["toRefs"])(r);return Object(a["watchEffect"])(async e=>{let n;e(()=>{}),await Promise.all(t.map(async e=>{let t=await p(e,u.value.value);return n={...n,...t},t})),d(u,n)}),r},b=(e,t)=>t?Array.isArray(t)?O(e,t):v(e,t):R(e);function I(e,t){Object.entries(e).forEach(([n,r])=>{"object"!==typeof r||i(o,r)?t(r,n,e):I(r,t)})}const y=e=>()=>I(e,e=>{i(o.DIRTY,e)&&(e[o.DIRTY]=!0)}),j=e=>()=>I(e,e=>{i(o.DIRTY,e)&&(e[o.DIRTY]=!1),i("value",e)&&(e.value=e[o.ORIGINAL])}),m=e=>()=>{const t=JSON.parse(JSON.stringify(e));return delete t[o.ERROR],delete t[o.INVALID],delete t[o.DIRTY],I(t,(e,t,n)=>{n[t]=i("value",e)?e.value:e}),t},E=e=>{I(e,(e,t,n)=>{"object"!==typeof n[t]&&(n[t]=b(e))})},D=e=>{E(e);const t=Object(a["reactive"])({...e,[o.INVALID]:null,[o.DIRTY]:null,[o.CLEAN]:null,[o.TOUCH]:null,[o.RESET]:null,[o.ERROR]:null}),n=Object(a["toRefs"])(t);return n[o.CLEAN].value=m(t),n[o.TOUCH].value=y(t),n[o.RESET].value=j(t),Object(a["watchEffect"])(()=>{n[o.INVALID].value=l(e,o.INVALID).includes(!0),n[o.DIRTY].value=l(e,o.DIRTY).includes(!0),n[o.ERROR].value=n[o.DIRTY].value&&n[o.INVALID].value}),t}}})}));
//# sourceMappingURL=main.umd.min.js.map